<!DOCTYPE html>
<html>
<head>
    <title>Live Form Validation</title>
    <style>
        body{
            background-color: powderblue;
            text-align: center;
        }
    </style>
</head>
<body>

<h2>Registration Form</h2>
<h3>Name</h3>
<input type="text" id="name" onchange="validateName()">
<span id="nameMsg"></span>
<br><br>

<h3>Email</h3>
<input type="text" id="email" onchange="validateEmail()">
<span id="emailMsg"></span>
<br><br>
<h3>Age</h3>
<input type="number" id="age" onchange="validateAge()">
<span id="ageMsg"></span>
<br><br>

<button onclick="saveData()">Register</button>
<p id="finalMsg"></p>

<script>

function validateName() {
    var name = document.getElementById("name").value;

    if (name === "") {
        document.getElementById("nameMsg").innerHTML = " Name cannot be empty";
        return false;
    } else {
        document.getElementById("nameMsg").innerHTML = " Valid";
        return true;
    }
}

function validateEmail() {
    var email = document.getElementById("email").value;

    if (email.indexOf("@") !== -1) {
        document.getElementById("emailMsg").innerHTML = " Valid";
        return true;
    } else {
        document.getElementById("emailMsg").innerHTML = " Email must contain @";
        return false;
    }
}

function validateAge() {
    var age = document.getElementById("age").value;

    if (age > 18) {
        document.getElementById("ageMsg").innerHTML = " Valid";
        return true;
    } else {
        document.getElementById("ageMsg").innerHTML = " Age must be greater than 18";
        return false;
    }
}

function saveData() {

    var validName = validateName();
    var validEmail = validateEmail();
    var validAge = validateAge();

    if (validName && validEmail && validAge) {
        
        var user = {
            name: document.getElementById("name").value,
            email: document.getElementById("email").value,
            age: document.getElementById("age").value
        };

        sessionStorage.setItem("name", user.name);
        sessionStorage.setItem("email", user.email);
        sessionStorage.setItem("age", user.age);

        document.getElementById("finalMsg").innerHTML = "Registration Successful!";
    } else {
        document.getElementById("finalMsg").innerHTML = "Please fix errors before submitting.";
    }
}

</script>

</body>
</html>